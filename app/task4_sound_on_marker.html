<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sound on marker</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>
<body>
<script>
    document.addEventListener("DOMContentLoaded", () =>{
        let marker = document.querySelector("#marker");
        let audio = document.querySelector("#killer_queen");

        marker.addEventListener('markerLost', function() {
            audio.pause();
        });

        marker.addEventListener('markerFound', function() {
            audio.play();
        });
    });
</script>
<a-scene embedded ar var-mode-ui="enabled: false" arjs="trackingMethod: best; sourceType: webcam;"
         renderer="logarithmicDepthBuffer: true;">
    <a-assets>
        <audio id="killer_queen" src="assets/killer_queen.mp3" preload="auto"/>
        <a-asset-item id="microphone" src="assets/microphone.glb"></a-asset-item>
    </a-assets>
    <a-marker id="marker" preset="custom" type="pattern" url="assets/task4_pattern_queen.patt">
        <a-audio src="#killer_queen"  ></a-audio>
        <a-gltf-model src="#microphone"
        scale="0.4 0.4 0.4"
        rotation="270 45 0"></a-gltf-model>
    </a-marker>

    <a-entity camera></a-entity>
</a-scene>
</body>
</html>